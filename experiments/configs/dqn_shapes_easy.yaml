general:
  seed: 1

# Experiment hyper-parameters may take a range of values in which case they will be
# optimised with Optuna
experiment:
  # Which variables are to be interpreted as Optuna float delimiters
  float_keys: [step_size, update_per_step]
  log_domain_keys: [step_size, update_per_step]
  # [0, 7, 8, 11]
  bert_layer_index: 0
  n_trials: 40
  n_epochs: 400
  # Number of update steps in epoch
  epoch_steps: 1000
  warmup_steps: 2000

  # How many steps in the environment will be called before the agent enters the update phase.
  # Works in synergy with update_per_step. For step_per_collect=200 and update_per_step=02.5
  # The agent will enter update stage every 200 environment steps and get updated 50 times. 
  step_per_collect: 200
  # How many updates will happen to the network per step in the environment
  # For 0.25 update happens every 4 steps
  update_per_step: [0.25, 0.5]
  
  # Algorithm hyper-parameters
  hidden_dim: [[512, 256, 128]]
  step_size: [1e-5, 1e-4]
  batch_size: [64, 256]
  l2_freq_scaling: false
  target_update_steps: [500, 1000]
  episode_per_test: 1

  buffer_size: 100000

  # Exploration rate parameters
  epsilon_start: 1
  epsilon_end: 0.05
  epsilon_fraction: 0.6
  test_epsilon: 0.05

# Environment hyper-parameters are fixed
environment:
  # 'W' - wall
  # ' ' - empty
  # 'T' - potential goal position in the test set (placement not allowed in training)
  grid:
    - ['W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W']
    - ['W', ' ', ' ', 'T', 'W', 'T', ' ', ' ', ' ', 'W']
    - ['W', ' ', ' ', ' ', 'W', ' ', ' ', ' ', ' ', 'W']
    - ['W', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'W']
    - ['W', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'W']
    - ['W', ' ', 'W', ' ', 'T', ' ', 'W', ' ', 'T', 'W']
    - ['W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W', 'W']
  # If true, origin and destination locations will be masked and the agent will have to rely on text to extact them
  goal_channel: true
  num_objects: 2
  disc_fact: 0.99 #gamma
  resample_episodes: 1000000000
  max_steps: 100
  slip_chance: 0
  seed: 1

  # use_fetures must reflect order of keys in features. It can be a subset, but order must be followed!
  use_features: [shape]
  features:
    # circle, triangle, square, diamond, star, key
    shape: [ball, triangle, square, diamond, star, key]
    # green, blue, red, yellow
    colour: [red, blue, green, yellow]

  task_names: [go_to, go_to_easy, pick_up, retrieve]
  task_id: go_to_easy

  go_to:
    - Go to colour shape.

  go_to_easy:
    - Go to colour shape.

  pick_up:
    - Pick up goal_formulation.

  retrieve:
    - Retrieve goal_formulation.

  default_feature: "0"